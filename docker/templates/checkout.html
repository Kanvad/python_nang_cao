{% extends "base.html" %}

{% block title %}Thanh toán{% endblock %}

{% block content %}
<h1 class="mb-4">Thanh toán</h1>

{% if cart_items %}
<h4>Tóm tắt đơn hàng</h4>
<ul class="list-group mb-4">
    {% for item in cart_items %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ item.product.name }} (x{{ item.quantity }})
        <span>{{ "{:,.0f}".format(item.product.price * item.quantity) }} VNĐ</span>
    </li>
    {% endfor %}
    <li class="list-group-item d-flex justify-content-between align-items-center active">
        <strong>Tổng cộng</strong>
        <strong>{{ "{:,.0f}".format(total_amount) }} VNĐ</strong>
    </li>
</ul>

<h4>Thông tin thanh toán và giao hàng</h4>
<p class="text-muted">Tính năng thanh toán và giao hàng thực tế sẽ cần tích hợp với các dịch vụ bên thứ ba.</p>
<p>Hiện tại, chúng tôi sẽ giả định đơn hàng được đặt thành công.</p>

<form method="POST">
    <!-- Bạn có thể thêm các trường thông tin giao hàng ở đây -->
    <!-- Ví dụ: Địa chỉ, Số điện thoại, Phương thức thanh toán -->

    <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" id="terms" required>
        <label class="form-check-label" for="terms">
            Tôi đồng ý với các điều khoản và điều kiện
        </label>
    </div>
    <button type="submit" class="btn btn-primary btn-lg w-100">Hoàn tất thanh toán</button>
</form>

{% else %}
<div class="alert alert-warning" role="alert">
    Không có sản phẩm nào trong giỏ hàng để thanh toán. <a href="{{ url_for('main.products') }}">Quay lại cửa hàng.</a>
</div>
{% endif %}
{% endblock %}